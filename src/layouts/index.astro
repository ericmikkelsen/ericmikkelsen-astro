---
import BaseHead from "../components/BaseHead.astro";
import Nav from "../components/Nav.astro";
import { SITE_TITLE, SITE_DESCRIPTION } from "../consts";

const { title, description, heading, imageSrc = "", marquee } = Astro.props;
const Heading = marquee ? "b" : "h1";
---

<!doctype html>
<html lang="en">
	<head>
		<BaseHead title={title} description={description} />
	</head>
	<body>
		<Nav class:list={["NAV"]} />
		<main>
			<Heading class="Heading rounded-right">
				<span>
					{marquee || title}
				</span>
			</Heading>
			<div class="rounded-right">
				<slot />
			</div>
			<img
				src={imageSrc || "/eric-looking-left.jpg"}
				alt="Eric in a green shirt looking at the h1 to the left"
				class=""
			/>
		</main>
	</body><style>
		main {
			margin: auto;
			padding: 5%;
			padding: clamp(1rem, 5vw, 3rem);
			padding-top: 0;
		}
		.Heading {
			background: pink;
			color: #000;
			border: .25rem solid;
			display: inline-block;
			font-size: var(--step-7);
			line-height: 0.775;
			margin: 0;
			margin-right: 5.555555555%;
			margin-right: clamp(1rem, 5vw, 3rem);
			padding: 5.555555555%;
			padding: clamp(1rem, 5vw, 3rem);
			position: relative;
			text-shadow: 0.075em 0.075em 0 #fff;
			text-transform: uppercase;
			vertical-align: top;
			width: 2ch;
			word-break: break-all;
		}
		@media (min-width: 54.5em) {
			.Heading {
				position: sticky;
				top: 5%;
				top: clamp(1rem, 5vw, 3rem);
			}
		}
		.Heading span {
			position: relative;
			top: 0.05em;
			right: 0.025em;
			font-size: 1em;
			line-height: inherit;
			transform: scale(1.05);
			display: block;
		}
		img {
			width: 100%;
			z-index: -1;
			height: 100%;
			height: 100lvh;
			position: fixed;
			transform: translate3d(0, 0, 0);
			border-radius: none;
			top: 0;
			left: 0;
			object-fit: cover;
			object-position: 60%;
			filter:grayscale(1);
		}
		main div {
			display: inline-block;
			width: fit-content;
			background-color: #fff;
			border: .25em solid;
			padding: 5.555555555%;
			padding: clamp(1rem, 5vw, 3rem);
			margin-top: 5.555555555%;
			margin-top: clamp(1rem, 5vw, 3rem);
			min-width: 60%;
			width: 33rem;
			max-width: 100%;
			box-sizing: border-box;
		}
		main div > * {
			margin: 0;
		}
		main div > * + * {
			margin-top: 1.5em;
			margin-top: calc(1em + 0.5rem);
		}
	</style>
</html>
